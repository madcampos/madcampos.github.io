<!doctype html><html lang="en-US" itemscope itemtype="https://schema.org/BlogPosting"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://madcampos.dev/blog/2023/07/tabs-web-component/"><link rel="alternate" type="application/rss+xml" href="https://madcampos.dev/blog/rss.xml" title="Marco Campos' Blog"><title>Tabs, Tabs, Tabs | Marco Campos | Blog</title><link rel="icon" href="https://madcampos.dev/icons/favicon.svg"><meta name="theme-color" content="#0080ff"><meta name="keywords" itemprop="keywords" content="personal, senior web developer, web developer, vue.js, vue, node.js, javascript, typescript, webdev"><meta property="og:title" name="twitter:title" itemprop="name" content="Tabs, Tabs, Tabs"><meta property="og:description" name="description" itemprop="abstract" content="A how to guide on building an accessible tab component using Web Components."><meta property="og:image" name="twitter:image" itemprop="image" content="https://madcampos.dev/images/logo-blog.png"><meta property="og:type" content="article"><meta property="og:locale" itemprop="inLanguage" content="en_US"><meta property="og:url" itemprop="url" content="https://madcampos.dev/blog/2023/07/tabs-web-component/"><meta name="twitter:card" content="summary"><meta name="twitter:dnt" content="on"><meta name="pinterest" content="nopin" description="Pintrest not allowed here!"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" href="https://madcampos.dev/icons/maskable/apple-icon-180.png"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2732-2048.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2388-1668.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2048-1536.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2224-1668.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2160-1620.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2778-1284.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2532-1170.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2436-1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2688-1242.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1792-828.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2208-1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1334-750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1136-640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><script async type="module" crossorigin src="https://madcampos.dev/assets/blog-home-1-be9f6535.js"></script><script async type="module" crossorigin src="https://madcampos.dev/assets/2023-05-05T00_00_00.000Z-hello-world-566bf305.js"></script><link rel="stylesheet" href="https://madcampos.dev/assets/index-ba89750f.css"><link rel="stylesheet" href="https://madcampos.dev/assets/base-20980c93.css"><link rel="stylesheet" href="https://madcampos.dev/assets/index-7328d0d2.css"><link rel="manifest" href="https://madcampos.dev/manifest.webmanifest"></head><body><article><div id="post-header"><nav id="back-to-blog"><a id="link-small" href="https://madcampos.dev/blog/" title="Back to blog"><img src="https://madcampos.dev/images/logo-blog-mini.svg" alt="" role="presentation"> </a><a id="link-big" href="https://madcampos.dev/blog/" title="Back to blog"><img src="https://madcampos.dev/images/logo-blog-micro.svg" alt="" role="presentation"></a></nav><header><h1>Tabs, Tabs, Tabs</h1><aside>Published on <time itemprop="dateCreated" datetime="Wed Jul 19 2023 20:00:00 GMT-0400 (Eastern Daylight Saving Time)">July 19, 2023</time></aside></header></div><main id="post-contents" itemprop="articleBody"><h1 id="tabs-tabs-tabs">Tabs, Tabs, Tabs</h1><p>This post is a deeper dive into Web Components, with a focus on building a tab navigation that is accessible. If you are not familiar with Web Components, I recommend you read my <a href="https://madcampos.dev/blog/2023/06/web-components-basics/">previous post</a> on the topic.</p><h2 id="accessible-tabs">Accessible Tabs</h2><p>As I’m not an expert in accessibility, but I do care about it, I’ll be using the <a href="https://www.w3.org/WAI/ARIA/apg/patterns/">ARIA Authoring Practices Guide</a> as a reference. Particularly the <a href="https://www.w3.org/WAI/ARIA/apg/patterns/tabs/">Tabs</a> section.</p><p>The whole tabs are actually 3 components:</p><ol><li><p><strong>The tabs container</strong></p><p>It is where everything will go and the component responsible for controlling the interaction between the tabs list and the tabs panels, as well as keyboard and pointer events.</p></li><li><p><strong>The tabs list</strong></p><p>It is the list of buttons that will represent each individual tab.</p></li><li><p><strong>The tabs panels</strong></p><p>The actual content of each tab.</p></li></ol><h3 id="the-tabs-panel">The Tabs Panel</h3><p>It is the simplest of the components, containing only an <code>&lt;article&gt;</code> with a <code>&lt;slot&gt;</code> inside where the content will go.</p><p>Here is the code:</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">CustomTabPanel</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">static</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">observedAttributes</span><span style="color: #D4D4D4">() { </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> [</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">]; }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">declare</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ShadowRoot</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ElementInternals</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">constructor</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">super</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachShadow</span><span style="color: #D4D4D4">({ </span><span style="color: #9CDCFE">mode:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;open&#39;</span><span style="color: #D4D4D4"> });</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachInternals</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">role</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;tabpanel&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;false&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">tabIndex</span><span style="color: #D4D4D4"> = -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">hidden</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">innerHTML</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">`</span></span>
<span class="line"><span style="color: #CE9178">            &lt;article&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;slot&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color: #CE9178">            &lt;/article&gt;</span></span>
<span class="line"><span style="color: #CE9178">        `</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> === </span><span style="color: #CE9178">&#39;true&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">set</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toggleAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> ? </span><span style="color: #CE9178">&#39;true&#39;</span><span style="color: #D4D4D4"> : </span><span style="color: #CE9178">&#39;false&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">tabIndex</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> ? </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> : -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">hidden</span><span style="color: #D4D4D4"> = !</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">tab</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">set</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">tab</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;aria-labelledby&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">attributeChangedCallback</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">switch</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">selected</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4"> !== </span><span style="color: #569CD6">null</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">default</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><p>The call to <code>this.attachInternals()</code> is what makes this component accessible. It creates an <a href="https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals"><code>ElementInternals</code></a> object that allows us to set the <code>role</code> and <code>aria-selected</code> attributes. We also set the <code>tabIndex</code> and <code>hidden</code> properties to make the panel focusable, but out of the tab order by default and hidden when not selected.</p><p>Those properties are kept in sync with the attributes using the <code>attributeChangedCallback</code> method and setting the attribute value on the property <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set">setter</a>. This is done so we can set both the attribute via HTML or the property via javascript and both will get updated.</p><h3 id="the-tabs-list">The Tabs List</h3><p>The tab component is very similar to the panel, the only difference is the property <code>panel</code> that associates the tab to a panel.</p><p>Here is the code:</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">export</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">CustomTab</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">static</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">observedAttributes</span><span style="color: #D4D4D4">() { </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> [</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">]; }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">declare</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ShadowRoot</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ElementInternals</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">constructor</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">super</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachShadow</span><span style="color: #D4D4D4">({ </span><span style="color: #9CDCFE">mode:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;open&#39;</span><span style="color: #D4D4D4"> });</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachInternals</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">role</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;false&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">tabIndex</span><span style="color: #D4D4D4"> = -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">innerHTML</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">`</span></span>
<span class="line"><span style="color: #CE9178">            &lt;div id=&quot;container&quot;&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;slot&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color: #CE9178">            &lt;/div&gt;</span></span>
<span class="line"><span style="color: #CE9178">        `</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> === </span><span style="color: #CE9178">&#39;true&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">set</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">boolean</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toggleAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaSelected</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> ? </span><span style="color: #CE9178">&#39;true&#39;</span><span style="color: #D4D4D4"> : </span><span style="color: #CE9178">&#39;false&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">tabIndex</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> ? </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> : -</span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">panel</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">set</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">panel</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;aria-controls&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">attributeChangedCallback</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">switch</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">selected</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4"> !== </span><span style="color: #569CD6">null</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">default</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><h3 id="the-tabs-container">The Tabs Container</h3><p>Now, here is where things start to get interesting. The container is the component that will control the interaction between the tabs list and the tabs panels. It will also ensure they all are connected.</p><p>The interactions we will be handling are:</p><ul><li>Keyboard navigation<ul><li>Left and Right arrow keys</li><li>Home and End keys</li></ul></li><li>Focus management</li><li>Tab assignment</li></ul><p>Here is the full code:</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">export</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">CustomTabs</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">static</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">observedAttributes</span><span style="color: #D4D4D4">() { </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> [</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">]; }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">declare</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ShadowRoot</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">ElementInternals</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">HTMLSlotElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#panelsSlot</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">HTMLSlotElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">constructor</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">super</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachShadow</span><span style="color: #D4D4D4">({ </span><span style="color: #9CDCFE">mode:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;open&#39;</span><span style="color: #D4D4D4"> });</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachInternals</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">role</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;tablist&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#internals</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">ariaLabel</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;Tab Container&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">innerHTML</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">`</span></span>
<span class="line"><span style="color: #CE9178">            &lt;div id=&quot;tab-container&quot;&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;div id=&quot;tabs-wrapper&quot;&gt;</span></span>
<span class="line"><span style="color: #CE9178">                    &lt;slot name=&quot;tabs&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;/div&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;div id=&quot;panels-wrapper&quot;&gt;</span></span>
<span class="line"><span style="color: #CE9178">                    &lt;slot name=&quot;panels&quot;&gt;&lt;/slot&gt;</span></span>
<span class="line"><span style="color: #CE9178">                &lt;/div&gt;</span></span>
<span class="line"><span style="color: #CE9178">            &lt;/div&gt;</span></span>
<span class="line"><span style="color: #CE9178">        `</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">querySelector</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;slot[name=&quot;tabs&quot;]&#39;</span><span style="color: #D4D4D4">) </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLSlotElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#panelsSlot</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">querySelector</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;slot[name=&quot;panels&quot;]&#39;</span><span style="color: #D4D4D4">) </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLSlotElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">`c-tabs-</span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">Math</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">random</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">toString</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">36</span><span style="color: #D4D4D4">).</span><span style="color: #DCDCAA">substring</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">12</span><span style="color: #D4D4D4">)</span><span style="color: #569CD6">}</span><span style="color: #CE9178">`</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">get</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">set</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">selected</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">selectedTab</span><span style="color: #D4D4D4"> = (</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">find</span><span style="color: #D4D4D4">((</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">) ?? </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">()[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">]) </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#selectTab</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">selectedTab</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    #</span><span style="color: #DCDCAA">associateTabs</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">forEach</span><span style="color: #D4D4D4">((</span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">tabId</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #CE9178">`</span><span style="color: #569CD6">${</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #569CD6">}</span><span style="color: #CE9178">-tab-</span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">index</span><span style="color: #569CD6">}</span><span style="color: #CE9178">`</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">panel</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#panelsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">()[</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">] </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">panelId</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">) ?? </span><span style="color: #CE9178">`</span><span style="color: #569CD6">${</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #569CD6">}</span><span style="color: #CE9178">-panel-</span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">index</span><span style="color: #569CD6">}</span><span style="color: #CE9178">`</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">tabId</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">panelId</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">panelId</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">setAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;tab&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">tabId</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    #</span><span style="color: #DCDCAA">selectTab</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">forEach</span><span style="color: #D4D4D4">((</span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toggleAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">tabElement</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#panelsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">forEach</span><span style="color: #D4D4D4">((</span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">toggleAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">panel</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">getAttribute</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;panel&#39;</span><span style="color: #D4D4D4">));</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">connectedCallback</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">addEventListener</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;slotchange&#39;</span><span style="color: #D4D4D4">, () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#associateTabs</span><span style="color: #D4D4D4">());</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#associateTabs</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">selectedTab</span><span style="color: #D4D4D4"> = (</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">().</span><span style="color: #DCDCAA">find</span><span style="color: #D4D4D4">((</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> === </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">selected</span><span style="color: #D4D4D4">) ?? </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">()[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">]) </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#selectTab</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">selectedTab</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">addEventListener</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;focusin&#39;</span><span style="color: #D4D4D4">, (</span><span style="color: #9CDCFE">evt</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">tab</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">evt</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">target</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">).</span><span style="color: #DCDCAA">closest</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">&gt;(</span><span style="color: #CE9178">&#39;c-tab&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#selectTab</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">addEventListener</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;keydown&#39;</span><span style="color: #D4D4D4">, (</span><span style="color: #9CDCFE">evt</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">tab</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">evt</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">target</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">).</span><span style="color: #DCDCAA">closest</span><span style="color: #D4D4D4">&lt;</span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">&gt;(</span><span style="color: #CE9178">&#39;c-tab&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">tabs</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#tabsSlot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">assignedElements</span><span style="color: #D4D4D4">() </span><span style="color: #C586C0">as</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4">[];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">index</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">indexOf</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">tab</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">switch</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">evt</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">key</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;ArrowLeft&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                        </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">[(</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> + </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">) % </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">].</span><span style="color: #DCDCAA">focus</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;ArrowRight&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                        </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">[(</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4"> + </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">) % </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4">].</span><span style="color: #DCDCAA">focus</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;Home&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                        </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">[</span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">].</span><span style="color: #DCDCAA">focus</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;End&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                        </span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">[</span><span style="color: #9CDCFE">tabs</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">length</span><span style="color: #D4D4D4"> - </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4">].</span><span style="color: #DCDCAA">focus</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #C586C0">default</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                }</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">attributeChangedCallback</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">: </span><span style="color: #4EC9B0">string</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">oldValue</span><span style="color: #D4D4D4"> === </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">switch</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">case</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;selected&#39;</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">selected</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newValue</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">break</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">default</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><p>Let’s break down the code.</p><ol><li>The <code>constructor</code> is pretty straightforward, we set the <code>role</code> and <code>aria-label</code> attributes, create the HTML structure, keep references of the slots. We also generate an id if one is not provided.</li><li>The <code>selected</code> property is used to keep track of the selected tab. It is also used to set the initial selected tab. It’s setter will also find the selected tab and call the <code>#selectTab</code> method to update the selected tab.</li><li>The <code>#associateTabs</code> method is used to associate the tabs with the panels. It will also generate an id for the tab and panel if one is not provided. We do this based on the tabs instead of panels because tabs will be interactive where panels are hidden by default and can be “orphans”.</li><li>The <code>#selectTab</code> method is used to update the selected tab and panel based on the tab element passed as argument.</li><li>The <code>connectedCallback</code> is where we set up the event listeners.<ul><li>We listen to the <code>slotchange</code> event on the tabs slot to call the <code>#associateTabs</code> method and update all tabs and panels. This event is fired every time the content of the <code>&lt;slot&gt;</code> changes.</li><li>The <code>#associateTabs</code> method is called once to update all tabs and panels when the component is first inserted on the page.</li><li>Next, we find the <code>selected</code> tab, if there is one, or set it to be the first one on the list.</li><li>Finally, we set up the keyboard navigation and focus management. More on that below.</li></ul></li></ol><h3 id="keyboard-navigation">(Keyboard) Navigation</h3><p>The navigation may seem weird as there are no <code>click</code> or <code>touch</code> event listeners, but that will make sense in a bit.</p><p>When we first move focus to the tab, it will go to the currently selected tab, as all others are out of the tab order. This happens when we press <code>tab</code> until we reach the component or when we click the tab. That is where the <code>focusin</code> event comes in, it will make the tab that <em>received focus</em> be selected, thus triggering the <code>#selectTab</code> method and updating the selected tab and panel.</p><p>The keyboard navigation is handled by the <code>keydown</code> event listener. It will filter the event and only handle the arrow keys, home and end; on each case there is some math involved to find the index of the tab that needs to be focused and then call the <code>focus</code> method on it.</p><h2 id="demo">Demo</h2><p>You can check out the full code on CodePen: <a href="https://codepen.io/madcampos/pen/NWEzogQ">https://codepen.io/madcampos/pen/WNxYoPv</a></p><iframe src="https://codepen.io/madcampos/embed/NWEzogQ?default-tab=result&editable=true" loading="lazy" referrerpolicy="no-referrer" sandbox="allow-forms allow-scripts allow-same-origin">See the Pen <a href="https://codepen.io/madcampos/pen/NWEzogQ">Dad Jokes - Infinite Scroller</a> by Marco Campos (<a href="https://codepen.io/madcampos">@madcampos</a>) on <a href="https://codepen.io">CodePen</a>.</iframe></main></article></body></html>