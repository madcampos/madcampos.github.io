<!doctype html><html lang="en-US" itemscope itemtype="https://schema.org/BlogPosting"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://madcampos.dev/blog/2023/06/web-components-basics/"><link rel="alternate" type="application/rss+xml" href="https://madcampos.dev/blog/rss.xml" title="Marco Campos' Blog"><title>Web Components: A (Not So) Gentle Introduction | Marco Campos | Blog</title><link rel="icon" href="https://madcampos.dev/icons/favicon.svg"><meta name="theme-color" content="#0080ff"><meta name="keywords" itemprop="keywords" content="personal, senior web developer, web developer, vue.js, vue, node.js, javascript, typescript, webdev"><meta property="og:title" name="twitter:title" itemprop="name" content="Web Components: A (Not So) Gentle Introduction"><meta property="og:description" name="description" itemprop="abstract" content="A brief introduction to web components."><meta property="og:image" name="twitter:image" itemprop="image" content="https://madcampos.dev/images/logo-blog.png"><meta property="og:type" content="article"><meta property="og:locale" itemprop="inLanguage" content="en_US"><meta property="og:url" itemprop="url" content="https://madcampos.dev/blog/2023/06/web-components-basics/"><meta name="twitter:card" content="summary"><meta name="twitter:dnt" content="on"><meta name="pinterest" content="nopin" description="Pintrest not allowed here!"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="apple-touch-icon" href="https://madcampos.dev/icons/maskable/apple-icon-180.png"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2732-2048.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2388-1668.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2048-1536.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2224-1668.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2160-1620.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2778-1284.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2532-1170.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2436-1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2688-1242.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1792-828.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-2208-1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1334-750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://madcampos.dev/splash/apple-splash-1136-640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="stylesheet" href="https://madcampos.dev/assets/base-35a16fef.css"><link rel="stylesheet" href="https://madcampos.dev/assets/blog-4858cad4.css"><link rel="stylesheet" href="https://madcampos.dev/assets/code-3c0f02cc.css"><link rel="manifest" href="https://madcampos.dev/manifest.webmanifest"></head><body><article><div id="post-header"><nav id="back-to-blog"><a id="link-small" href="https://madcampos.dev/blog/" title="Back to blog"><img src="https://madcampos.dev/images/logo-blog-mini.svg" alt="" role="presentation"> </a><a id="link-big" href="https://madcampos.dev/blog/" title="Back to blog"><img src="https://madcampos.dev/images/logo-blog-micro.svg" alt="" role="presentation"></a></nav><header><h1>Web Components: A (Not So) Gentle Introduction</h1><aside>Published on <time itemprop="dateCreated" datetime="2023-06-26T00:00:00.000Z">June 25, 2023</time></aside></header></div><main id="post-contents" itemprop="articleBody"><h1 id="web-components-a-not-so-gentle-introduction">Web Components: A (Not So) Gentle Introduction</h1><p><strong>Note</strong>: Please don‚Äôt take this post seriously, it contains irony. If you are <em>not</em> immune to it, go vaccinate yourself and come back later.</p><h2 id="what-are-web-components">What Are Web Components?</h2><p>You may be wondering: What the flying spaghetti monster is a web component?</p><p>Glad you asked! They are a shiny and cool set of technologies to build reusable components for the web.</p><h2 id="but-i-already-have-insert-framework-here">But I Already Have <code>&lt;Insert Framework Here&gt;</code>!</h2><p>Well, that is awesome, although the framework you most probably are talking about is <a href="https://react.dev/">react</a> or one of it‚Äôs <a href="https://angularjs.org/">less</a> <a href="https://svelte.dev/">popular</a> <a href="https://vuejs.org/">cousins</a>.<br>But let me tell you something: react is a pile of garbage. #hot-take üî•</p><p>Now that we got that out of the way, let‚Äôs talk about web components and why they are cool.</p><h2 id="why-they-are-so-cool">Why They Are So #cool?</h2><p>The main reason is because it is native to the web, so we don‚Äôt need to load extra libraries or frameworks to use them.</p><p>They also bring the promise of dropping any new component in and just use it, without having to worry about build tools, compatibility or anything else. They are also easy to integrate with any framework you may be using because it is just an html element.</p><p><em>I</em> particularly like them because they are close enough to how the web platform works that you can understand them without having to learn new hard to grasp concepts. Yes, I‚Äôm looking at you <a href="https://en.wikipedia.org/wiki/Currying">currying</a>.</p><h2 id="the-technical-boring-not-fun-stuff">The Technical, Boring, Not Fun, Stuff</h2><p>There are three main technologies that make up web components:</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">HTML Templates</a>: A nice element that allows you to create and have the browser parse a DOM tree for you but <em>without</em> having to add it to the page or impact performance.</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a>: A mechanism to encapsulate a DOM tree. Think the controls on a <code>&lt;video&gt;</code> or <code>&lt;audio&gt;</code> tag, invisible to us but still there.</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">Custom Elements</a>: The final boss of Web Components. They allow us to create custom HTML tags, and that friend is how we can create reusable components.</li></ul><h2 id="the-template-element">The <code>&lt;template&gt;</code> Element</h2><p>It is useful for other things in general, but this tag really shines when we use it to create <a href="https://developer.chrome.com/articles/declarative-shadow-dom/">Declarative Shadow DOM</a>.</p><p>Unfortunately browser support is <a href="https://caniuse.com/declarative-shadow-dom">not there yet</a>, so I‚Äôll skip it for now.</p><h2 id="the-fun-stuff">The Fun Stuff</h2><p>Let‚Äôs create a infinite scroller component that load dad jokes, because why not?</p><h3 id="the-html">The HTML</h3><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">dad-jokes-bonanza</span><span style="color: #808080">&gt;&lt;/</span><span style="color: #569CD6">dad-jokes-bonanza</span><span style="color: #808080">&gt;</span></span></code></pre><p>Yes, that is all. The component is a new HTML tag, <code>&lt;dad-jokes-bonanza&gt;</code>, that we can use anywhere in our page.</p><p>The only hard requirement is that the tag name must have a <code>-</code> in it so it doesn‚Äôt conflict with existing and future HTML tags.</p><h3 id="the-javascript">The JavaScript</h3><p>Here is where the magic happens, we will write the following pieces:</p><ol><li>Create a class that extends <code>HTMLElement</code>.</li><li>Create a Shadow DOM that has a ‚Äúcontainer‚Äù and a ‚Äúloader‚Äù element.</li><li>Create a <code>IntersectionObserver</code> that will trigger when the loader element is visible. When the loader is visible, we will fetch more jokes and add them to the container.</li><li>Register the component so it works.</li></ol><p>The base of the component is really simple, it just creates a new class that extends <code>HTMLElement</code>, and then we create a <code>constructor</code> method.</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">DadJokesBonanza</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">constructor</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Calling `super` is required or else we don&#39;t create an element and the browser will yell at us.</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">super</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><p>After that we will create a Shadow DOM on the constructor, that will be all the internal HTML for our component. Like with the <code>&lt;video&gt;</code> tag, everything inside here will be invisible to the outside world.</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">DadJokesBonanza</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Properties starting with `#` are private, so we have an extra mechanism to keep the logic inside the component.</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#shadowRoot</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#loader</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#container</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">constructor</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">super</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Create a shadow DOM</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#shadowRoot</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">attachShadow</span><span style="color: #D4D4D4">({ </span><span style="color: #9CDCFE">mode:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;open&#39;</span><span style="color: #D4D4D4"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Adding a container for the jokes</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#container</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">document</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">createElement</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;div&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#container</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;container&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">appendChild</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#container</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Adding a loader</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#loader</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">document</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">createElement</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;hr&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#loader</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;loader&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#shadowRoot</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">appendChild</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#loader</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><p>Now we need to create a <code>IntersectionObserver</code> that will trigger when the loader is visible. We do that on one of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#using_the_lifecycle_callbacks">lifecycle methods</a> of the component, <code>connectedCallback</code>.</p><p>(Previous code omitted for brevity)</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">DadJokesBonanza</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HTMLElement</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// We will use this to avoid calling the API multiple times.</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#isLoading</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">#observer</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">connectedCallback</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Create an observer that will trigger when the loader is visible</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#observer</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">new</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">IntersectionObserver</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">async</span><span style="color: #D4D4D4"> ([</span><span style="color: #9CDCFE">entry</span><span style="color: #D4D4D4">]) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">entry</span><span style="color: #D4D4D4">?.</span><span style="color: #9CDCFE">isIntersecting</span><span style="color: #D4D4D4"> &amp;&amp; !</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#isLoading</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#isLoading</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">try</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #6A9955">// Fetch jokes then add items to the container,</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #6A9955">// Those functions are ommited here for brevity.</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">jokes</span><span style="color: #D4D4D4"> = </span><span style="color: #C586C0">await</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#fetchMoreJokes</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">#addJokes</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">jokes</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">                } </span><span style="color: #C586C0">catch</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">err</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #9CDCFE">console</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">error</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">err</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">                }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#isLoading</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        }, {});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Observe the loader element</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#observer</span><span style="color: #D4D4D4">?.</span><span style="color: #DCDCAA">observe</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">#loader</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><p>Finally, we need to register the component so it works. We do that by calling <code>customElements.define</code> with the name of the component and the class we created.</p><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">// It is a good practice to always check if the component is already registered.</span></span>
<span class="line"><span style="color: #6A9955">// This is useful to avoid errors when importing the component multiple times from a single file.</span></span>
<span class="line"><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #9CDCFE">customElements</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">get</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;dad-jokes-bonanza&#39;</span><span style="color: #D4D4D4">)) {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">customElements</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">define</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;dad-jokes-bonanza&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">DadJokesBonanza</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre><h2 id="putting-it-all-together">Putting It All Together</h2><p>You can check out the full code on CodePen: <a href="https://codepen.io/madcampos/pen/WNxYoPv">https://codepen.io/madcampos/pen/WNxYoPv</a></p><p>I intentionally left styling and some complexities related to components to make the post brief and easy to follow.<br>The API is extremely powerful and let‚Äôs us do a lot‚Ä¶ but that is for other posts.</p></main></article></body></html>